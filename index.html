<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>ìƒµíƒ€ì´íƒ„ êµ­ë‚´ ê¸¸ë“œ ë¦¬ìŠ¤íŠ¸</title>
  <style>
    body {
      font-family: 'Arial', sans-serif;
      padding: 20px;
      background: #1e1e2f;
      color: white;
    }
    .container {
      max-width: 700px;
      margin: auto;
	    padding-right: 20px;
      box-sizing: border-box; /* ì¶”ê°€ */
    }
    .card {
      background: #2b2b3c;
      border-radius: 12px;
      padding: 20px;
      margin-top: 20px;
      box-sizing: border-box; /* ì¶”ê°€ */
    }
    input, button {
      width: calc(100% - 0px); /* ë³€ê²½ */
      padding: 10px;
      margin-top: 10px;
      font-size: 1rem;
	  box-sizing: border-box; /* ì¶”ê°€ */
    }
    button {
      background-color: #6a0dad;
      color: white;
      border: none;
      border-radius: 8px;
      cursor: pointer;
    }
    button:hover {
      background-color: #8b4ee7;
    }
    .guild-box {
      margin-top: 16px;
      padding: 16px;
      border: 1px solid #444;
      border-radius: 10px;
      background-color: #3a3a4d;
    }
    .guild-name {
      font-size: 1.2rem;
      font-weight: bold;
      margin-bottom: 8px;
    }
	.bookmark-icon {
      cursor: pointer;
      font-size: 1.2rem;
      color: gold;
	}
    .guild-line {
      margin-bottom: 4px;
      font-size: 0.95rem;
    }
    .guild-line span {
      display: inline-block;
      margin-right: 12px;
    }
    .sort-buttons {
      margin-top: 10px;
    }
    .sort-buttons button {
      width: auto;
      display: inline-block;
      margin-right: 5px;
      margin-bottom: 5px;
    }
    .sort-buttons button.active {
      background-color: #dabfff;
      color: #000;
    }
    .warning-toggle {
      cursor: pointer;
      color: #dabfff;
      font-weight: bold;
      margin-bottom: 10px;
      display: inline-block;
    }
    .warning-box {
      display: none;
      background-color: #3a3a4d;
      border: 1px solid #555;
      border-radius: 10px;
      padding: 15px;
      margin-bottom: 15px;
      white-space: pre-line;
    }
    .warning-title { /* ì¶”ê°€ëœ ìŠ¤íƒ€ì¼ */
      font-weight: bold;
      color: red;
    }
    .creator { /* ì¶”ê°€ëœ ìŠ¤íƒ€ì¼ */
      font-size: 0.8rem;
      color: #888;
      text-align: left;
    }

    /* ìˆ«ì ì…ë ¥ í™”ì‚´í‘œ ìˆ¨ê¸°ê¸° */
    input[type="number"]::-webkit-outer-spin-button,
    input[type="number"]::-webkit-inner-spin-button {
      -webkit-appearance: none;
      margin: 0;
    }
    input[type="number"] {
      -moz-appearance: textfield; /* Firefox */
    }
    a {
      color: #CE93D8; /* ì—°ë³´ë¼ìƒ‰ */
      text-decoration: none; /* ë°‘ì¤„ ì œê±° (ì„ íƒ ì‚¬í•­) */
    }
    a:hover {
      color: #E1BEE7; /* ë§ˆìš°ìŠ¤ ì˜¤ë²„ ì‹œ ë” ë°ì€ ì—°ë³´ë¼ìƒ‰ (ì„ íƒ ì‚¬í•­) */
    }
  </style>
</head>
<body>
  <div class="creator">ì œì‘ì : ì…€ë ˆë…¸í•„</div> <!-- ì¶”ê°€ëœ ì œì‘ì í‘œì‹œ -->
  <div class="container">

    <!-- ğŸ“Œ ì ‘ì—ˆë‹¤ í´ëŠ” ê²½ê³ ë¬¸ -->
    <div class="card">
      <div class="warning-toggle" onclick="toggleWarning()">â–¶ ì£¼ì˜ì‚¬í•­ ë³´ê¸°</div>
      <div class="warning-box" id="warning-box">
        <span class="warning-title"># ì°¸ê³  ë° ì£¼ì˜ì‚¬í•­</span>
		ì œì‘ìëŠ” ì‚´ë©´ì„œ ì½”ë”©ì„ ë°°ìš´ ì ì´ ì—†ìŠµë‹ˆë‹¤.
		ì±—GPT ì±„ì°ì§ˆí•˜ë©´ì„œ í•˜ë£¨ë§Œì— ëŒ€ì¶© ì™„ì„±í•œ ì‚¬ì´íŠ¸ë‹ˆê¹Œ ì¡°ì¡í•´ë„ ê·¸ëŸ¬ë ¤ë‹ˆ í•˜ê³  ì“°ì„¸ìš”.
	      
        ê±´ë¬¼ë“¤ ìµœì € ë ˆë²¨ ë° ìµœëŒ€ ë ˆë²¨, ê¸¸ë“œì¥, ë‹¨í†¡ í•„ì°¸ ì—¬ë¶€ ë“± ì—¬ëŸ¬ ì •ë³´ë“¤ì„ ê°€ì§€ê³  ìˆì§€ë§Œ ì—¬ê¸°ì—ëŠ” í‘œì‹œí•˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.
        ê¸¸ë“œ ê±´ë¬¼ë“¤ ë ˆë²¨ ì •ë³´ë¥¼ ë„£ìœ¼ë©´ ê¸¸ë“œë“¤ ìˆœìœ„ ë§¤ê¸°ëŠ” ê²ƒì²˜ëŸ¼ ë³´ì—¬ ë¶ˆì¾Œí•´ í•˜ì‹œëŠ” ë¶„ë“¤ë„ ìˆì„ ìˆ˜ ìˆë‹¤ íŒë‹¨í•˜ì—¬ ê°€ì… ì¡°ê±´ë§Œ ë„£ì—ˆìœ¼ë‹ˆ ì‚¬ìš© ì‹œ ë¶ˆí¸í•´ë„ ì–‘í•´ë°”ëë‹ˆë‹¤.
        ê¸¸ë“œ ë ˆë²¨, ê±´ë¬¼ë“¤ ë ˆë²¨, ê¸¸ë“œ ì¸ì› í˜„í™© ê°™ì€ ë¶€ë¶„ê¹Œì§€ëŠ” ì œê°€ ë§¤ë²ˆ íŒŒì•…í•  ìˆ˜ ì—†ê¸° ë•Œë¬¸ì— ì§ì ‘ ê²€ìƒ‰í•´ì„œ í™•ì¸í•´ì•¼ í•©ë‹ˆë‹¤.
        ì œê°€ ê¸¸ë“œ ê°€ì… ì¡°ê±´ì„ í™•ì¸í–ˆì„ ë•Œ ìˆ˜ì‘ì—…ìœ¼ë¡œ ì…ë ¥í•˜ëŠ” ì‹œìŠ¤í…œì´ê¸° ë•Œë¬¸ì— ëª‡ëª‡ ê¸¸ë“œë“¤ ê°€ì… ì¡°ê±´ì´ ë³€ê²½ë˜ì–´ë„ ì—…ë°ì´íŠ¸ê°€ ë˜ì–´ìˆì§€ ì•Šì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
	<strong><span style="color: gold;">ê°€ëŠ¥í•˜ë©´ ë§¤ë‹¬ ì²«ì§¸ ì£¼ì— í™•ì¸í•˜ë©´ì„œ ê°€ì… ì¡°ê±´ì´ë‚˜ í›ˆë ¨ì†Œ ë ˆë²¨ ì—…ë°ì´íŠ¸ í•´ë†“ê² ìŠµë‹ˆë‹¤.</span></strong>
        ë¹„ê³µê°œ ê¸¸ë“œëŠ” ê²€ìƒ‰í•´ë„ ë‚˜ì˜¤ì§€ ì•Šê¸° ë•Œë¬¸ì— ì›”ì±—ì— í™ë³´ê¸€ ì˜¬ë¼ì˜¤ëŠ” ê²ƒì„ ê¸°ë‹¤ë¦¬ì„¸ìš”.

        <strong><span style="color: gold;">ë³¸ì¸ì´ ê°€ì…í•˜ê³  ì‹¶ì€ ê¸¸ë“œê°€ ì‚¬ëŒ ê½‰ ì°¨ì„œ í™ë³´ë„ ì•ˆ í•˜ëŠ” ì¤‘ì¸ë° ê·¸ ê¸¸ë“œ ê´€ê³„ìë“¤ ë¶ˆëŸ¬ì„œ ëˆ„êµ¬ ì¶”ë°©í•˜ê³  ìê¸° ë„£ì–´ë‹¬ë¼ê±°ë‚˜ ê·¸ëƒ¥ ë„£ì–´ë‹¬ë¼ê³  ìê¾¸ ë–¼ì“°ê±°ë‚˜ ìê¸° í˜„ì¬ ìƒíƒœë³´ë‹¤ í›¨ì”¬ ë†’ì€ ì¡°ê±´ì„ ìš”êµ¬í•˜ëŠ” ê¸¸ë“œ ë¬¸ì˜ í†¡ë°©ì— ì°¾ì•„ê°€ ê³„ì† ë„£ì–´ë‹¬ë¼ê³  í•˜ë©´ì„œ ë¶ˆí¸í•˜ê²Œ ë§Œë“¤ì§€ ë§ˆì„¸ìš”.</span></strong>
        <strong><span style="color: gold;">ê¸¸ë“œì— ê³µì„ì´ ìˆì–´ë„ ë”°ë¡œ í™ë³´í•˜ì§€ ì•ŠëŠ” ê¸¸ë“œë“¤ì´ ìˆê³  ì–´ëŠ ì •ë„ ì„±ì¥ í›„ ê¸¸ë“œ ì´ì ì„ ì›í•˜ëŠ” ìœ ì €ë“¤ì˜ í¸ì˜ë¥¼ ìœ„í•´ ë§Œë“¤ì—ˆì§€ë§Œ ìœ„ì™€ ê°™ì€ ì¼ì´ ë²Œì–´ì§„ë‹¤ë©´ ë¬¸ì˜í†¡ ë¶€ë¶„ì„ ì§€ì›Œë²„ë¦¬ê±°ë‚˜ ì‚¬ì´íŠ¸ë¥¼ ë‹«ëŠ”ë‹¤ë˜ê°€ í•˜ëŠ” ì¡°ì¹˜ë¥¼ ì·¨í•  ì˜ˆì •ì…ë‹ˆë‹¤.</span></strong>

        <strong><span style="color: gold;">ë§Œì•½ ì—¬ê¸°ì— ì—†ëŠ” ê¸¸ë“œë“¤ì¸ë° ë“±ë¡ë˜ê¸¸ ì›í•œë‹¤ê±°ë‚˜ ë ˆë²¨, íˆ¬ìê¸ˆ ì¡°ê±´ ë“± ê¸¸ë“œ ë°ì´í„° ë¹¨ë¦¬ ë°”ê¾¸ê³  ì‹¶ì€ ê¸¸ë“œ ê´€ê³„ìë¶„ë“¤ì€ ì•„ë˜ì˜ ë§í¬ë¡œ ë“¤ì–´ê°€ì„œ ëŒ“ê¸€ ë‹¬ì•„ì£¼ì„¸ìš”.</span></strong>
		<strong><span style="color: gold;">ì´ ì‚¬ì´íŠ¸ì— ë“±ë¡ë˜ê¸¸ ì›ì¹˜ ì•ŠëŠ” ê¸¸ë“œ ê´€ê³„ìë¶„ë“¤ë„ ëŒ“ê¸€ë¡œ ì–˜ê¸°í•´ì£¼ì‹œë©´ ì—¬ê¸°ì„œ ì§€ì›Œë†“ê² ìŠµë‹ˆë‹¤.</span></strong>
        
		<a href="https://cafe.naver.com/shoptitan/1011" target="_blank">ëŒ“ê¸€ ë‹¤ëŠ” ê³³</a>
      </div>
    </div>

    <div class="card">
      <h2>ìƒµíƒ€ì´íƒ„ êµ­ë‚´ ê¸¸ë“œ ë¦¬ìŠ¤íŠ¸</h2>
      <input type="number" id="level" placeholder="í˜„ì¬ ë ˆë²¨ì„ ì…ë ¥í•˜ì„¸ìš”">
      <input type="text" id="investment" placeholder="í˜„ì¬ íˆ¬ìê¸ˆ (ìˆ«ìë§Œ ì…ë ¥)" oninput="formatInvestment(this)">
      <button onclick="filterGuilds()">ê¸¸ë“œ ê²€ìƒ‰</button>
      <button onclick="showBookmarks()">ë¶ë§ˆí¬ ë³´ê¸°</button>
      <button onclick="location.href='guildrequest/index.html'">ê¸¸ë“œ êµ¬í•´ìš”(ì•„ì§ ì‘ë™ X)</button>
    </div>

    <div id="results" class="card" style="display: none; position: relative;">
	<button onclick="closeResults()" style="position: absolute; top: 10px; right: 10px; background: none; color: white; font-size: 1.2rem; border: none; cursor: pointer;">âœ–</button>
      <h2>ê²€ìƒ‰ ê²°ê³¼</h2>
      <div class="sort-buttons">
        <button onclick="sortGuilds('levelAsc')">ë ˆë²¨ ì¡°ê±´ ë‚®ì€ ìˆœ</button>
        <button onclick="sortGuilds('levelDesc')">ë ˆë²¨ ì¡°ê±´ ë†’ì€ ìˆœ</button>
        <button onclick="sortGuilds('investmentAsc')">íˆ¬ìê¸ˆ ì¡°ê±´ ë‚®ì€ ìˆœ</button>
        <button onclick="sortGuilds('investmentDesc')">íˆ¬ìê¸ˆ ì¡°ê±´ ë†’ì€ ìˆœ</button>
        <button onclick="sortGuilds('trainingDesc')">í›ˆë ¨ì†Œ ë ˆë²¨ ë†’ì€ ìˆœ</button>
      </div>
      <div id="guild-list"></div>
    </div>
  </div>

  <script>
  const guilds = [
  { name: "ê°€ì£½ê³µë°©", level: 78, investment: 500000000000, open: true, royalFull: "", note: "í•˜ë“œìºë¦¬ ê°€ì…?", training: 40 },
  { name: "ê±°ìƒ", level: 1, investment: 0, open: false, royalFull: "ì™•ì‹¤, í’€í™•", note: "", training: 40 },
  { name: "ê³ ì–‘ì´ëŠ” ì§„ë¦¬ë‹¤", level: 50, investment: 0, open: false, royalFull: "", note: "ê³ ì–‘ì´=ì§„ë¦¬", training: 40 },
  { name: "ê´‘ê³ ìƒë‹¨", level: 55, investment: 5000000000, open: true, royalFull: "", note: "", training: 40 },
  { name: "ê½ƒì˜í–¥ê¸°", level: 10, investment: 0, open: true, royalFull: "", note: "", training: 31 },
  { name: "ë…¸ë¸”ë ˆìŠ¤", level: 70, investment: 0, open: false, royalFull: "", note: "", training: 40 },
  { name: "ë…¸ì¸ì •", level: 65, investment: 20000000000, open: true, royalFull: "", note: "", training: 40 },
  { name: "ëˆˆê½ƒs", level: 30, investment: 0, open: true, royalFull: "", note: "", training: 40 },
  { name: "ë‰´íƒ€ìš´", level: 85, investment: 200000000000, open: false, royalFull: "", note: "songseven", training: 40 },
  { name: "ë‹¤ì´ì¨", level: 65, investment: 10000000000, open: true, royalFull: "", note: "", training: 40 },
  { name: "ë‹¨ë°¤", level: 68, investment: 90000000000, open: true, royalFull: "", note: "shopì‘ì—…ì›", training: 40 },
  { name: "ë‹¬ë¹› ì£¼ì ", level: 30, investment: 2500000, open: true, royalFull: "", note: "", training: 31 },
  { name: "ë…ë„ëŠ” ìš°ë¦¬ë•…", level: 30, investment: 0, open: false, royalFull: "ì™•ì‹¤", note: "", training: 40 },
  { name: "ë•¡ë•¡ê¸€", level: 25, investment: 0, open: true, royalFull: "", note: "", training: 37 },
  { name: "ë§Œë•ìƒíšŒ", level: 30, investment: 30000000, open: true, royalFull: "", note: "", training: 23 },
  { name: "ë¯¸ì‹¤ì½”íƒ€íƒˆí”„í•‘", level: 30, investment: 80000000000, open: true, royalFull: "", note: "", training: 40 },
  { name: "ë¯¸ì•¼ìš”", level: 36, investment: 0, open: true, royalFull: "", note: "", training: 40 },
  { name: "ë°œë Œíƒ€ì¸", level: 50, investment: 100000000000, open: false, royalFull: "", note: "ìƒµíƒ€ì´íƒ„ ë°œë Œíƒ€ì¸", training: 40 },
  { name: "ë² ìŠ¤íŠ¸ìƒµ", level: 5, investment: 0, open: true, royalFull: "", note: "", training: 40 },
  { name: "ë³„ë¹› ì—¬ê´€", level: 1, investment: 0, open: true, royalFull: "", note: "", training: 21 },
  { name: "ìƒµë‹¤ì´ì„œ", level: 1, investment: 0, open: true, royalFull: "", note: "", training: 29 },
  { name: "ìƒµíƒ€ë²…ìŠ¤", level: 60, investment: 50000000000, open: true, royalFull: "", note: "", training: 40 },
  { name: "ì†Œë°±ë‹¹", level: 59, investment: 100000000000, open: true, royalFull: "", note: "ì†Œë°±ê¸ˆê°•", training: 40 },
  { name: "ìŠ¤í‚¤ë‹¤ì‹œ", level: 60, investment: 10000000000, open: true, royalFull: "", note: "", training: 40 },
  { name: "ì‹œë¦¬ìš°ìŠ¤", level: 50, investment: 5000000000, open: true, royalFull: "", note: "", training: 40 },
  { name: "ì‹ ë¹„ì˜ì„¸ê³„", level: 5, investment: 0, open: true, royalFull: "", note: "", training: 37 },
  { name: "ì—°ë³´ë¼", level: 60, investment: 100000000000, open: true, royalFull: "", note: "", training: 40 },
  { name: "ì˜¬ë“œíƒ€ìš´", level: 70, investment: 100000000000, open: true, royalFull: "", note: "", training: 40 },
  { name: "ìš°ë¦¬ ê³µë°©", level: 68, investment: 200000000000, open: true, royalFull: "", note: "", training: 40 },
  { name: "ë‚­ë§Œê°ë™", level: 35, investment: 100000000, open: true, royalFull: "", note: "", training: 31 },
  { name: "ì¼ë‹¨ì•„ë¬´ê¸¸ë“œ", level: 30, investment: 3000000000, open: false, royalFull: "", note: "", training: 40 },
  { name: "ì§€ìƒë‚™ì›", level: 58, investment: 10000000000, open: true, royalFull: "", note: "", training: 40 },
  { name: "ì´ˆë³´ë¼", level: 30, investment: 0, open: true, royalFull: "", note: "", training: 19 },
  { name: "ìºìŠ¬íœ˜ë‹‰ìŠ¤ë”í¼ìŠ¤íŠ¸", level: 1, investment: 15000000000, open: true, royalFull: "", note: "íƒ€ì´ê¸¸êµ¬í•¨", training: 40 },
  { name: "ìºì‹œë§¥ìŠ¤", level: 65, investment: 180000000000, open: true, royalFull: "", note: "í•˜ë“œìºë¦¬ ê°€ì…?", training: 40 },
  { name: "í•˜ë“œìºë¦¬", level: 80, investment: 49894989, open: true, royalFull: "", note: "í•˜ë“œìºë¦¬ ê°€ì…", training: 40 },
  { name: "í•œê°•ë²ˆì§€ì í”„ì¥", level: 35, investment: 0, open: true, royalFull: "", note: "", training: 40 },
  { name: "í•œì¸íƒ€ìš´", level: 83, investment: 100000000000, open: false, royalFull: "", note: "ë°¥ë¨¹ëŠ”ê³°", training: 40 },
  { name: "í˜¸í™”ë¡œìš´ ê¸¸ë“œ", level: 88, investment: 500000000000, open: true, royalFull: "", note: "", training: 40 },
  { name: "í—¤ìŠ¤í‹°ì•„", level: 5, investment: 50000, open: true, royalFull: "", note: "", training: 33 },
  { name: "Best Of Me", level: 82, investment: 100000000000, open: true, royalFull: "", note: "", training: 40 },
  { name: "Bongha Guild", level: 1, investment: 100000000, open: true, royalFull: "", note: "", training: 29 },
  { name: "choco k", level: 58, investment: 0, open: true, royalFull: "", note: "", training: 40 },
  { name: "DOKDO", level: 1, investment: 10000000, open: true, royalFull: "", note: "", training: 35 },
  { name: "Eí¸í•œê¸¸ë“œ", level: 55, investment: 500000000, open: true, royalFull: "", note: "", training: 40 },
  { name: "hybrid shop", level: 1, investment: 0, open: true, royalFull: "", note: "", training: 29 },
  { name: "KOREAQUEEN", level: 40, investment: 5000000000, open: true, royalFull: "", note: "", training: 40 },
  { name: "kr.ë¦¬ì¹˜", level: 4, investment: 1000, open: true, royalFull: "", note: "", training: 27 },
  { name: "so happy", level: 1, investment: 0, open: true, royalFull: "", note: "", training: 37 }
];


  let investmentValue = 0;
  let filteredGuilds = [];
  let isBookmarkMode = false; // ë¶ë§ˆí¬ ë³´ê¸° ìƒíƒœ ì—¬ë¶€

  function formatInvestment(input) {
    const raw = input.value.replace(/[^0-9]/g, '');
    investmentValue = parseInt(raw || '0', 10);
    input.value = investmentValue.toLocaleString();
  }

  function toggleWarning() {
    const box = document.getElementById("warning-box");
    const toggle = document.querySelector(".warning-toggle");
    const isVisible = box.style.display === "block";
    box.style.display = isVisible ? "none" : "block";
    toggle.textContent = isVisible ? "â–¶ ì£¼ì˜ì‚¬í•­ ë³´ê¸°" : "â–¼ ì£¼ì˜ì‚¬í•­ ë‹«ê¸°";
  }

  function closeResults() {
    document.getElementById("results").style.display = "none";
  }

  function filterGuilds() {
    const levelInput = document.getElementById("level").value.replace(/[^0-9]/g, '');
    const level = parseInt(levelInput || '0', 10);
    const investment = investmentValue;
    const resultDiv = document.getElementById("results");
    const guildListDiv = document.getElementById("guild-list");
    guildListDiv.innerHTML = '';

    filteredGuilds = guilds.filter(g => level >= g.level && investment >= g.investment);
    isBookmarkMode = false;

    if (filteredGuilds.length === 0) {
      guildListDiv.innerHTML = '<p>ì¡°ê±´ì— ë§ëŠ” ê¸¸ë“œê°€ ì—†ìŠµë‹ˆë‹¤.</p>';
    } else {
      displayGuilds(filteredGuilds);
    }

    resultDiv.style.display = 'block';
  }

  function showBookmarks() {
    const bookmarks = JSON.parse(localStorage.getItem("bookmarks") || "[]");
    filteredGuilds = guilds.filter(g => bookmarks.includes(g.name));
    isBookmarkMode = true;
    document.getElementById("results").style.display = 'block';
    displayGuilds(filteredGuilds);
  }

  function sortGuilds(sortBy) {
    if (sortBy === 'investmentAsc') {
      filteredGuilds.sort((a, b) => a.investment - b.investment);
    } else if (sortBy === 'investmentDesc') {
      filteredGuilds.sort((a, b) => b.investment - a.investment);
    } else if (sortBy === 'levelAsc') {
      filteredGuilds.sort((a, b) => a.level - b.level);
    } else if (sortBy === 'levelDesc') {
      filteredGuilds.sort((a, b) => b.level - a.level);
    } else if (sortBy === 'trainingDesc') {
      filteredGuilds.sort((a, b) => (b.training || 0) - (a.training || 0));
    }

    document.querySelectorAll('.sort-buttons button').forEach(btn => {
      btn.classList.remove('active');
    });
    const activeBtn = document.querySelector(`.sort-buttons button[onclick="sortGuilds('${sortBy}')"]`);
    if (activeBtn) activeBtn.classList.add('active');

    displayGuilds(filteredGuilds);
  }

  function displayGuilds(guildsToDisplay) {
    const guildListDiv = document.getElementById("guild-list");
    guildListDiv.innerHTML = '';

    const bookmarks = JSON.parse(localStorage.getItem("bookmarks") || "[]");

    guildsToDisplay.forEach(g => {
      const isBookmarked = bookmarks.includes(g.name);
      guildListDiv.innerHTML += `
        <div class="guild-box">
          <div class="guild-name">
            ${g.name}&nbsp;&nbsp;<span class="bookmark-icon" onclick="toggleBookmark('${g.name}')">${isBookmarked ? 'â˜…' : 'â˜†'}</span>
          </div>
          <div class="guild-line"><span>ë ˆë²¨ ì¡°ê±´ : ${g.level}</span></div>
          <div class="guild-line"><span>íˆ¬ìê¸ˆ ì¡°ê±´ : ${g.investment.toLocaleString()} ê³¨ë“œ</span></div>
          <div class="guild-line"><span>í›ˆë ¨ì†Œ (ì˜ì›… ìµœëŒ€ ë ˆë²¨) : Lv. ${g.training || '-'}</span></div>
          <div class="guild-line"><span>ê³µê°œ ìƒíƒœ : ${g.open ? 'ê³µê°œ' : 'ë¹„ê³µê°œ'}</span></div>
          <div class="guild-line"><span>ì™•ì‹¤í’€í™• : ${g.royalFull ? g.royalFull : '-'}</span></div>
          <div class="guild-line"><span>ë¬¸ì˜í†¡ : ${g.note || '-'}</span></div>
        </div>
      `;
    });
  }

  function toggleBookmark(name) {
    let bookmarks = JSON.parse(localStorage.getItem("bookmarks") || "[]");
    if (bookmarks.includes(name)) {
      bookmarks = bookmarks.filter(n => n !== name);
    } else {
      bookmarks.push(name);
    }
    localStorage.setItem("bookmarks", JSON.stringify(bookmarks));

    // ë¶ë§ˆí¬ ë³´ê¸° ì¤‘ì´ë©´ ë‹¤ì‹œ í•„í„°ë§ëœ ëª©ë¡ìœ¼ë¡œ ë³´ì—¬ì£¼ê¸°
    if (isBookmarkMode) {
      showBookmarks();
    } else {
      displayGuilds(filteredGuilds);
    }
  }

  document.getElementById("level").addEventListener("keyup", function (event) {
    if (event.key === "Enter") {
      document.getElementById("investment").focus();
    }
  });

  document.getElementById("investment").addEventListener("keyup", function (event) {
    if (event.key === "Enter") {
      filterGuilds();
    }
  });
  </script>
</body>
</html>



